(this.webpackJsonpcoffee=this.webpackJsonpcoffee||[]).push([[0],{14:function(e,t,a){e.exports=a(26)},19:function(e,t,a){},24:function(e,t,a){e.exports=a.p+"static/media/placeholder.505dce53.jpeg"},26:function(e,t,a){"use strict";a.r(t);var c=a(0),l=a.n(c),n=a(12),r=a.n(n),i=(a(19),a(1)),s=a(4);a(27),a(20);s.initializeApp({apiKey:"AIzaSyD26XUmLKds2rS-ONbGjbXC80kHpa0mAxk",authDomain:"covfefe-4e9ea.firebaseapp.com",databaseURL:"https://covfefe-4e9ea.firebaseio.com",projectId:"covfefe-4e9ea",storageBucket:"covfefe-4e9ea.appspot.com",messagingSenderId:"1015333247439",appId:"1:1015333247439:web:903c647f24fac151355aba"});var o=s.storage(),u=s.firestore(),m=s.firestore.FieldValue.serverTimestamp,d=a(8),f=function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),l=a[0],n=a[1];return Object(c.useEffect)((function(){var t=u.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id}))})),n(t)}));return function(){return t()}}),[e]),{docs:l}},g=(a(24),function(e){var t=e.isSelected,a=e.setRating;e.click;return l.a.createElement("li",{className:t?"selected":null,onClick:a},l.a.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 16 15",className:"star"},l.a.createElement("path",{d:"M8.5,0.3l2,4.1c0.1,0.2,0.2,0.3,0.4,0.3l4.6,0.7c0.4,0.1,0.6,0.6,0.3,0.9l-3.3,3.2c-0.1,0.1-0.2,0.3-0.2,0.5l0.8,4.5 c0.1,0.4-0.4,0.8-0.8,0.6l-4.1-2.1c-0.2-0.1-0.3-0.1-0.5,0l-4.1,2.1c-0.4,0.2-0.9-0.1-0.8-0.6l0.8-4.5c0-0.2,0-0.4-0.2-0.5L0.2,6.2 C-0.2,5.9,0,5.4,0.5,5.3L5,4.7c0.2,0,0.3-0.1,0.4-0.3l2-4.1C7.7-0.1,8.3-0.1,8.5,0.3z"})))});var p=function(e){var t=e.rating,a=e.setRating;return l.a.createElement("ul",{className:"course--stars"},function(){for(var e=[],c=function(c){e.push(l.a.createElement(g,{isSelected:t>c,setRating:function(){return a(c+1)},key:c}))},n=0;n<5;n++)c(n);return e}())},v=function(e){var t=e.setSelectedImg,a=f("images").docs,n=Object(c.useState)(null),r=Object(i.a)(n,2),s=(r[0],r[1]),o=Object(c.useState)(0),m=Object(i.a)(o,2),d=(m[0],m[1]),g=function(e){var t=localStorage.getItem("id");console.log(t),s(e),localStorage.setItem("rating",e);var a=localStorage.getItem("rating",e);console.log(e),u.collection("images").doc(t).update({star:a})};return l.a.createElement("div",{className:"img-grid"},a&&a.map((function(e){return l.a.createElement("div",{className:"img-wrap",key:e.id,onClick:function(){t(e.url),localStorage.setItem("currentStar",e.star)}},l.a.createElement("img",{src:e.url,alt:e.id}),l.a.createElement("h2",null,e.title),l.a.createElement("div",{className:"rating",onClick:function(){localStorage.setItem("id",e.id),d(e.id),s(e.star)},data:e.id},l.a.createElement(p,{rating:e.star,setRating:g})))})))},b=function(){return l.a.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 472.6 472.6",className:"logo"},l.a.createElement("path",{d:"M368.3,232.6h-26.4l2.4-23.2c0.4-4.4-2.8-8.4-7.2-8.8c-4.4-0.4-8.4,2.8-8.8,7.2l-18.8,198 c-2.8,28.8-26.8,50.8-55.6,50.8H146.7c-29.2,0-53.2-21.6-55.6-50.8l-18-189.2h163.2c4.4,0,8-3.6,8-8s-3.6-8-8-8h-168 c-0.8,0-1.2,0-2,0.4c-0.8-0.4-2-0.4-2.8-0.4c-4.4,0.4-7.6,4.4-7.2,8.8l18.8,198c3.2,37.2,34,65.2,71.6,65.2h107.2 c37.2,0,68-28,71.6-65.2l1.6-18.8h41.2c26.4,0,48-21.6,48-48v-60C416.3,254.2,394.7,232.6,368.3,232.6z M368.3,372.6h-39.6 l11.6-124h27.6c17.6,0,32,14.4,32,32v60h0.4C400.3,358.2,385.9,372.6,368.3,372.6z"}),l.a.createElement("path",{d:"M264.3,208.6c0,4.4,3.6,8,8,8h12c4.4,0,8-3.6,8-8s-3.6-8-8-8h-12C267.9,200.6,264.3,204.2,264.3,208.6z"}),l.a.createElement("path",{d:"M132.7,166.6c0.8,3.6,4.4,6,7.6,6c0.8,0,1.6,0,2-0.4c4.4-1.2,6.8-5.6,5.6-10l-8.8-31.2 c-4-13.6-2-28,5.2-40.4l3.2-5.2c6-10.4,9.2-21.2,9.2-32.4c0-4.4-3.6-8-8-8s-8,3.6-8,8c0,8.4-2.4,16.4-6.8,24.4l-3.2,5.2 c-9.6,16-12,35.2-6.8,53.2L132.7,166.6z"}),l.a.createElement("path",{d:"M192.7,166.6c0.8,3.6,4.4,6,7.6,6c0.8,0,1.6,0,2-0.4c4.4-1.2,6.8-5.6,5.6-10l-8.8-31.2 c-4-13.6-2-28,5.2-40.4l3.2-5.6c8.4-14.8,11.2-32.4,7.6-49.6l-7.2-29.2c-1.2-4.4-5.2-6.8-9.6-6c-4.4,1.2-6.8,5.2-6,9.6l7.2,28.8 c2.8,12.8,0.8,26.4-5.6,37.6l-3.2,5.2c-9.6,16-12,35.2-6.8,53.2L192.7,166.6z"}),l.a.createElement("path",{d:"M252.7,166.6c0.8,3.6,4.4,6,7.6,6c0.8,0,1.6,0,2-0.4c4.4-1.2,6.8-5.6,5.6-10l-8.8-31.2 c-4-13.6-2-28,5.2-40.4c2.4-4,0.8-8.8-2.8-10.8c-4-2.4-8.8-0.8-10.8,2.8c-9.6,16-12,35.2-6.8,53.2L252.7,166.6z"}))},E=function(e){var t=e.selectedImg,a=e.setSelectedImg;return l.a.createElement("div",{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&a(null)}},l.a.createElement("img",{src:t,alt:"St\xf8rre bilde"}))},h=function(){return l.a.createElement("div",{className:"title"},l.a.createElement("h1",null,"Kaffeliste"))},S=a(7),j=a.n(S),O=a(13),y=function(e){var t=Object(c.useState)(0),a=Object(i.a)(t,2),l=a[0],n=a[1],r=Object(c.useState)(null),s=Object(i.a)(r,2),d=s[0],f=s[1],g=Object(c.useState)(null),p=Object(i.a)(g,2),v=p[0],b=p[1],E=Object(c.useState)({display:"none"}),h=Object(i.a)(E,2);h[0],h[1];return Object(c.useEffect)((function(){var t=o.ref(e.name),a=u.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;n(t)}),(function(e){f(e)}),Object(O.a)(j.a.mark((function e(){var c,l,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:c=e.sent,l=m(),n=localStorage.getItem("title"),r=localStorage.getItem("rating"),a.add({url:c,createdAt:l,title:n,star:r}),b(c),document.querySelector("form").style.display="none";case 9:case"end":return e.stop()}}),e)}))))}),[e]),{progress:l,url:v,error:d}},I=function(e){var t=e.file,a=e.setFile,n=y(t),r=n.url,i=n.progress;return Object(c.useEffect)((function(){r&&a(null)}),[r,a]),l.a.createElement("div",{className:"progress-bar",style:{width:i+"%"}})},k=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(i.a)(r,2),o=s[0],u=s[1],m=Object(c.useState)(null),d=Object(i.a)(m,2),f=d[0],g=d[1],v=["image/png","image/jpg","image/jpeg","image/heic"],b=Object(c.useState)(0),E=Object(i.a)(b,2),h=E[0],S=E[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"addNewBtn",onClick:function(e){document.querySelector("form").style.display="flex"}},"Legg til ny kaffetype"),l.a.createElement("form",{style:{display:"none"}},l.a.createElement("input",{id:"file-title",type:"text",placeholder:"Hva heter kaffetypen?",onChange:function(e){u(e.target.value),localStorage.setItem("title",e.target.value)},value:o}),l.a.createElement("input",{id:"file-notes",type:"textarea",placeholder:"Smaksnotater ..."}),l.a.createElement("div",{className:"starRating"},l.a.createElement(p,{rating:h,setRating:function(e){S(e),localStorage.setItem("rating",e)}})),l.a.createElement("label",{htmlFor:"file-upload",className:"custom-file-upload"},"Legg til bilde"),l.a.createElement("input",{id:"file-upload",type:"file",onChange:function(e){var t=e.target.files[0];t&&v.includes(t.type)?(n(t),g("")):(n(null),g("Please select an image file (png, heic or jpeg)"))}}),l.a.createElement("div",{className:"output"},f&&l.a.createElement("div",{className:"error"},f),a&&l.a.createElement("div",null,"Legger til ",o," i databasen"),a&&l.a.createElement(I,{file:a,setFile:n}))))};var N=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1];return l.a.createElement("div",{className:"App"},l.a.createElement(b,null),l.a.createElement(h,null),l.a.createElement(k,null),l.a.createElement(v,{setSelectedImg:n}),a&&l.a.createElement(E,{selectedImg:a,setSelectedImg:n}))};r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(N,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.39effcd1.chunk.js.map